import pandas as pd
import numpy as np

# Set random seed for reproducibility
np.random.seed(42)

# Parameters for the dataset
num_samples = 10000  # Total number of samples
num_fraudulent = 500  # Number of fraudulent transactions

# Generate features
data = {
    'transaction_id': np.arange(1, num_samples + 1),
    'amount': np.random.uniform(1, 1000, num_samples),  # Transaction amount
    'time': np.random.randint(1, 24, num_samples),  # Transaction time (in hours)
    'merchant_id': np.random.randint(1, 100, num_samples),  # Merchant ID
    'location': np.random.choice(['Location_A', 'Location_B', 'Location_C'], num_samples),  # Transaction location
}

# Create a DataFrame
df = pd.DataFrame(data)

# Generate target variable (is_fraud)
# Randomly assign fraud to a subset of transactions
df['is_fraud'] = 0
fraud_indices = np.random.choice(df.index, num_fraudulent, replace=False)
df.loc[fraud_indices, 'is_fraud'] = 1

# Shuffle the DataFrame
df = df.sample(frac=1).reset_index(drop=True)

# Save to CSV
df.to_csv('credit_card_fraud.csv', index=False)

print("Synthetic credit card fraud dataset generated and saved as 'credit_card_fraud.csv'.")
